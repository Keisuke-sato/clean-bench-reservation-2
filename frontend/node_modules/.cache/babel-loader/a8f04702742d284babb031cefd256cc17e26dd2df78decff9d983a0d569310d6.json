{"ast":null,"code":"var _jsxFileName = \"/app/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst API = `${BACKEND_URL}/api`;\nconst App = () => {\n  _s();\n  const [reservations, setReservations] = useState([]);\n  const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0]);\n  const [showCreateForm, setShowCreateForm] = useState(false);\n  const [editingReservation, setEditingReservation] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  // Form state\n  const [formData, setFormData] = useState({\n    bench_id: 'front',\n    user_name: '',\n    start_time: '',\n    end_time: ''\n  });\n\n  // Load reservations for selected date with comprehensive error handling\n  const loadReservations = async (retryCount = 0, maxRetries = 3) => {\n    try {\n      console.log(`äºˆç´„èª­ã¿è¾¼ã¿é–‹å§‹ (è©¦è¡Œ ${retryCount + 1}/${maxRetries + 1}):`, selectedDate);\n      setLoading(true);\n      setError(''); // ã‚¨ãƒ©ãƒ¼ã‚’ã‚¯ãƒªã‚¢\n\n      // ãƒªã‚¯ã‚¨ã‚¹ãƒˆè¨­å®šã®æœ€é©åŒ–\n      const requestConfig = {\n        params: {\n          date: selectedDate\n        },\n        timeout: 8000 + retryCount * 2000,\n        // æ®µéšçš„ã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’å»¶é•·\n        validateStatus: function (status) {\n          return status >= 200 && status < 300; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ\n        },\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      };\n      const response = await axios.get(`${API}/reservations`, requestConfig);\n\n      // ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿ã®æ¤œè¨¼\n      if (!Array.isArray(response.data)) {\n        throw new Error('ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ç„¡åŠ¹ãªãƒ‡ãƒ¼ã‚¿å½¢å¼ãŒè¿”ã•ã‚Œã¾ã—ãŸ');\n      }\n\n      // ãƒ‡ãƒ¼ã‚¿ã®å¦¥å½“æ€§ãƒã‚§ãƒƒã‚¯\n      const validReservations = response.data.filter(reservation => {\n        return reservation && reservation.id && reservation.bench_id && reservation.user_name && reservation.start_time && reservation.end_time;\n      });\n      if (validReservations.length !== response.data.length) {\n        console.warn(`ç„¡åŠ¹ãªäºˆç´„ãƒ‡ãƒ¼ã‚¿ã‚’é™¤å¤–: ${response.data.length - validReservations.length}ä»¶`);\n      }\n      console.log('äºˆç´„ãƒ‡ãƒ¼ã‚¿å–å¾—æˆåŠŸ:', validReservations);\n      setReservations(validReservations);\n    } catch (err) {\n      console.error(`äºˆç´„èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼ (è©¦è¡Œ ${retryCount + 1}):`, err);\n\n      // ã‚¨ãƒ©ãƒ¼åˆ†é¡ã¨è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤åˆ¤å®š\n      const isRetryableError = err.code === 'ECONNABORTED' ||\n      // ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ\n      err.code === 'NETWORK_ERROR' ||\n      // ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼\n      err.code === 'ERR_NETWORK' ||\n      // ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ (axios)\n      err.response && err.response.status >= 500 ||\n      // ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼\n      err.response && err.response.status === 503 ||\n      // ã‚µãƒ¼ãƒ“ã‚¹åˆ©ç”¨ä¸å¯\n      err.response && err.response.status === 504 // ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ\n      ;\n      const shouldRetry = retryCount < maxRetries && isRetryableError;\n      if (shouldRetry) {\n        const delay = Math.min(1000 * 2 ** retryCount, 8000); // æœ€å¤§8ç§’\n        console.log(`${delay / 1000}ç§’å¾Œã«è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤ã—ã¾ã™...`);\n        setError(`æ¥ç¶šä¸­ã§ã™... (${retryCount + 1}å›ç›®å†è©¦è¡Œä¸­)`);\n        setTimeout(() => {\n          loadReservations(retryCount + 1, maxRetries);\n        }, delay);\n      } else {\n        // æœ€å¤§ãƒªãƒˆãƒ©ã‚¤å›æ•°ã«é”ã—ãŸå ´åˆã¾ãŸã¯ãƒªãƒˆãƒ©ã‚¤ä¸å¯ã‚¨ãƒ©ãƒ¼\n        let errorMessage = 'äºˆç´„ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ';\n        if (err.response) {\n          var _err$response$data;\n          // ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒã‚ã‚‹å ´åˆ\n          errorMessage = ((_err$response$data = err.response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.detail) || `ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ (${err.response.status})`;\n        } else if (err.code === 'ECONNABORTED' || err.code === 'ERR_NETWORK') {\n          errorMessage = 'ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã«å•é¡ŒãŒã‚ã‚Šã¾ã™';\n        } else if (err.message) {\n          errorMessage = err.message;\n        }\n        setError(errorMessage);\n        console.error('æœ€å¤§ãƒªãƒˆãƒ©ã‚¤å›æ•°ã«é”ã—ã¾ã—ãŸ:', err);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    loadReservations();\n  }, [selectedDate]);\n\n  // Create reservation\n  const createReservation = async e => {\n    e.preventDefault();\n    try {\n      setLoading(true);\n      setError('');\n      const reservationData = {\n        ...formData,\n        start_time: `${selectedDate}T${formData.start_time}:00`,\n        end_time: `${selectedDate}T${formData.end_time}:00`\n      };\n      await axios.post(`${API}/reservations`, reservationData);\n\n      // Reset form and refresh\n      setFormData({\n        bench_id: 'front',\n        user_name: '',\n        start_time: '',\n        end_time: ''\n      });\n      setShowCreateForm(false);\n      await loadReservations();\n    } catch (err) {\n      var _err$response, _err$response$data2;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data2 = _err$response.data) === null || _err$response$data2 === void 0 ? void 0 : _err$response$data2.detail) || 'äºˆç´„ã®ä½œæˆã«å¤±æ•—ã—ã¾ã—ãŸ');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Update reservation\n  const updateReservation = async e => {\n    e.preventDefault();\n    try {\n      setLoading(true);\n      setError('');\n      const updateData = {\n        user_name: formData.user_name,\n        start_time: `${selectedDate}T${formData.start_time}:00`,\n        end_time: `${selectedDate}T${formData.end_time}:00`\n      };\n      await axios.put(`${API}/reservations/${editingReservation.id}`, updateData);\n\n      // Reset form and refresh\n      setFormData({\n        bench_id: 'front',\n        user_name: '',\n        start_time: '',\n        end_time: ''\n      });\n      setEditingReservation(null);\n      await loadReservations();\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.detail) || 'äºˆç´„ã®æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸ');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Start editing\n  const startEdit = reservation => {\n    const startTime = new Date(reservation.start_time).toTimeString().substring(0, 5);\n    const endTime = new Date(reservation.end_time).toTimeString().substring(0, 5);\n    setFormData({\n      bench_id: reservation.bench_id,\n      user_name: reservation.user_name,\n      start_time: startTime,\n      end_time: endTime\n    });\n    setEditingReservation(reservation);\n    setShowCreateForm(false);\n  };\n\n  // Date navigation\n  const changeDate = days => {\n    const newDate = new Date(selectedDate);\n    newDate.setDate(newDate.getDate() + days);\n    setSelectedDate(newDate.toISOString().split('T')[0]);\n  };\n\n  // Format date for display\n  const formatDate = dateString => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('ja-JP', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      weekday: 'long'\n    });\n  };\n\n  // Generate time slots for timetable (every 30 minutes, 7:00-22:00)\n  const generateTimeSlots = () => {\n    const slots = [];\n    for (let hour = 7; hour <= 22; hour++) {\n      for (let minute = 0; minute < 60; minute += 30) {\n        const timeString = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;\n        slots.push(timeString);\n      }\n    }\n    return slots;\n  };\n\n  // Calculate reservation bar properties\n  const calculateBarProperties = reservation => {\n    const startDate = new Date(reservation.start_time);\n    const endDate = new Date(reservation.end_time);\n    const startMinutes = startDate.getHours() * 60 + startDate.getMinutes();\n    const endMinutes = endDate.getHours() * 60 + endDate.getMinutes();\n    const durationMinutes = endMinutes - startMinutes;\n\n    // 7:00 (420åˆ†) ã‚’åŸºæº–ç‚¹ã¨ã—ã¦èª¿æ•´\n    const baseOffsetMinutes = 7 * 60; // 7:00 = 420åˆ†\n    const adjustedStartMinutes = startMinutes - baseOffsetMinutes;\n\n    // Each 30-minute slot is 40px high\n    const pixelsPerMinute = 40 / 30;\n    const top = adjustedStartMinutes * pixelsPerMinute;\n    const height = durationMinutes * pixelsPerMinute;\n    return {\n      top,\n      height\n    };\n  };\n\n  // Get reservation color\n  const getReservationColor = index => {\n    const colors = ['#667eea', '#764ba2', '#f093fb', '#f5576c', '#4facfe', '#00f2fe', '#43e97b', '#38f9d7', '#ffecd2', '#fcb69f', '#a8edea', '#fed6e3'];\n    return colors[index % colors.length];\n  };\n\n  // Auto cleanup old data function\n  const cleanupOldData = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      const response = await axios.post(`${API}/cleanup/old-data`, {}, {\n        timeout: 15000 // 15ç§’ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ\n      });\n      console.log('ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—å®Œäº†:', response.data);\n\n      // æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º\n      if (response.data.deleted_count > 0) {\n        alert(`âœ… ${response.data.deleted_count}ä»¶ã®å¤ã„äºˆç´„ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã—ã¾ã—ãŸ`);\n      } else {\n        alert('â„¹ï¸ å‰Šé™¤å¯¾è±¡ã®ãƒ‡ãƒ¼ã‚¿ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸ');\n      }\n\n      // äºˆç´„ãƒªã‚¹ãƒˆã‚’æ›´æ–°\n      await loadReservations();\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      console.error('ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã‚¨ãƒ©ãƒ¼:', err);\n      const errorMessage = ((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.detail) || 'ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã«å¤±æ•—ã—ã¾ã—ãŸ';\n      setError(`ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã‚¨ãƒ©ãƒ¼: ${errorMessage}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const timeSlots = generateTimeSlots();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\u30AF\\u30EA\\u30FC\\u30F3\\u30D9\\u30F3\\u30C1\\u4E88\\u7D04\\u30B7\\u30B9\\u30C6\\u30E0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"version-info\",\n          children: \"\\u30D0\\u30FC\\u30B8\\u30E7\\u30F3 2.0 - \\u6539\\u5584\\u7248\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"date-navigation\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => changeDate(-1),\n          className: \"nav-button\",\n          children: \"\\u2190 \\u524D\\u65E5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"current-date\",\n          children: formatDate(selectedDate)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => changeDate(1),\n          className: \"nav-button\",\n          children: \"\\u7FCC\\u65E5 \\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"action-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setShowCreateForm(true);\n            setEditingReservation(null);\n            setFormData({\n              bench_id: 'front',\n              user_name: '',\n              start_time: '',\n              end_time: ''\n            });\n          },\n          className: \"create-button\",\n          children: \"\\u65B0\\u898F\\u4E88\\u7D04\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            console.log('æ‰‹å‹•æ›´æ–°ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸ');\n            loadReservations(0, 3); // æ‰‹å‹•æ›´æ–°æ™‚ã‚‚è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½ã‚’ä½¿ç”¨\n          },\n          className: \"refresh-button\",\n          disabled: loading,\n          title: \"\\u4E88\\u7D04\\u4E00\\u89A7\\u3092\\u624B\\u52D5\\u3067\\u66F4\\u65B0\",\n          children: loading ? 'ğŸ”„ æ›´æ–°ä¸­...' : 'ğŸ”„ æ›´æ–°'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            if (window.confirm('30æ—¥ã‚ˆã‚Šå¤ã„äºˆç´„ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã—ã¾ã™ã€‚\\nã“ã®æ“ä½œã¯å–ã‚Šæ¶ˆã›ã¾ã›ã‚“ã€‚\\nå®Ÿè¡Œã—ã¾ã™ã‹ï¼Ÿ')) {\n              cleanupOldData();\n            }\n          },\n          className: \"cleanup-button\",\n          disabled: loading,\n          title: \"30\\u65E5\\u3088\\u308A\\u53E4\\u3044\\u4E88\\u7D04\\u30C7\\u30FC\\u30BF\\u3092\\u524A\\u9664\\u3057\\u3066\\u30C7\\u30FC\\u30BF\\u30D9\\u30FC\\u30B9\\u5BB9\\u91CF\\u3092\\u7BC0\\u7D04\",\n          children: loading ? 'ğŸ§¹ å‰Šé™¤ä¸­...' : 'ğŸ§¹ å¤ã„ãƒ‡ãƒ¼ã‚¿å‰Šé™¤'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-message\",\n          children: [\"\\u26A0\\uFE0F \", error]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setError('');\n            loadReservations(0, 3);\n          },\n          className: \"retry-button\",\n          disabled: loading,\n          children: loading ? 'å†è©¦è¡Œä¸­...' : 'ğŸ”„ å†è©¦è¡Œ'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 11\n      }, this), (showCreateForm || editingReservation) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: editingReservation ? 'äºˆç´„ç·¨é›†' : 'æ–°è¦äºˆç´„'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: editingReservation ? updateReservation : createReservation,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u30D9\\u30F3\\u30C1:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: formData.bench_id,\n              onChange: e => setFormData({\n                ...formData,\n                bench_id: e.target.value\n              }),\n              disabled: !!editingReservation,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"front\",\n                children: \"\\u624B\\u524D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"back\",\n                children: \"\\u5965\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u5229\\u7528\\u8005\\u540D:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: formData.user_name,\n              onChange: e => setFormData({\n                ...formData,\n                user_name: e.target.value\n              }),\n              required: true,\n              placeholder: \"\\u304A\\u540D\\u524D\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u958B\\u59CB\\u6642\\u523B:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"time\",\n              value: formData.start_time,\n              onChange: e => setFormData({\n                ...formData,\n                start_time: e.target.value\n              }),\n              min: \"07:00\",\n              max: \"22:00\",\n              step: \"1800\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              style: {\n                color: '#666',\n                fontSize: '0.8rem'\n              },\n              children: \"\\u5229\\u7528\\u53EF\\u80FD\\u6642\\u9593: 7:00-22:00 (30\\u5206\\u523B\\u307F)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u7D42\\u4E86\\u6642\\u523B:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"time\",\n              value: formData.end_time,\n              onChange: e => setFormData({\n                ...formData,\n                end_time: e.target.value\n              }),\n              min: \"07:00\",\n              max: \"22:00\",\n              step: \"1800\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              style: {\n                color: '#666',\n                fontSize: '0.8rem'\n              },\n              children: \"\\u5229\\u7528\\u53EF\\u80FD\\u6642\\u9593: 7:00-22:00 (30\\u5206\\u523B\\u307F)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: loading,\n              children: editingReservation ? 'æ›´æ–°' : 'äºˆç´„ä½œæˆ'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 17\n            }, this), editingReservation && /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"delete-form-button\",\n              disabled: loading,\n              onClick: () => {\n                console.log('å‰Šé™¤ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸ');\n                console.log('ç·¨é›†ä¸­ã®äºˆç´„:', editingReservation);\n                const handleDelete = async () => {\n                  try {\n                    // è©³ç´°ãªç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°\n                    const userConfirmed = window.confirm(`âš ï¸ äºˆç´„ã‚’å‰Šé™¤ã—ã¦ã‚‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ\\n\\n` + `ğŸ“ åˆ©ç”¨è€…: ${editingReservation.user_name}\\n` + `â° æ™‚é–“: ${new Date(editingReservation.start_time).toTimeString().substring(0, 5)} - ${new Date(editingReservation.end_time).toTimeString().substring(0, 5)}\\n` + `ğŸ¢ ãƒ™ãƒ³ãƒ: ${editingReservation.bench_id === 'front' ? 'æ‰‹å‰' : 'å¥¥'}\\n\\n` + `âŒ ã“ã®æ“ä½œã¯å–ã‚Šæ¶ˆã›ã¾ã›ã‚“ã€‚\\n\\n` + `å‰Šé™¤ã™ã‚‹å ´åˆã¯ã€ŒOKã€ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚`);\n                    if (!userConfirmed) {\n                      console.log('ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå‰Šé™¤ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ã¾ã—ãŸ');\n                      return;\n                    }\n                    console.log('å‰Šé™¤å‡¦ç†ã‚’é–‹å§‹ã—ã¾ã™...');\n                    console.log('å‰Šé™¤å¯¾è±¡ID:', editingReservation.id);\n                    setLoading(true);\n                    setError('');\n\n                    // DELETE ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡\n                    const response = await axios.delete(`${API}/reservations/${editingReservation.id}`);\n                    console.log('âœ… å‰Šé™¤æˆåŠŸ:', response.data);\n\n                    // çŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆ\n                    setEditingReservation(null);\n                    setFormData({\n                      bench_id: 'front',\n                      user_name: '',\n                      start_time: '',\n                      end_time: ''\n                    });\n\n                    // äºˆç´„ãƒªã‚¹ãƒˆã‚’å†èª­ã¿è¾¼ã¿\n                    await loadReservations();\n                    console.log('âœ… å‰Šé™¤å‡¦ç†ãŒå®Œäº†ã—ã¾ã—ãŸ');\n                  } catch (error) {\n                    var _error$response, _error$response$data;\n                    console.error('âŒ å‰Šé™¤ã‚¨ãƒ©ãƒ¼:', error);\n                    if (error.response) {\n                      console.error('ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¨ãƒ©ãƒ¼:', error.response.data);\n                      console.error('ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰:', error.response.status);\n                    }\n                    setError(`å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸ: ${((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || error.message}`);\n                  } finally {\n                    setLoading(false);\n                  }\n                };\n                handleDelete();\n              },\n              children: loading ? 'å‰Šé™¤ä¸­...' : 'ğŸ—‘ï¸ äºˆç´„å‰Šé™¤'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => {\n                setShowCreateForm(false);\n                setEditingReservation(null);\n                setError('');\n              },\n              children: \"\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"timetable-container\",\n        children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading\",\n          children: \"\\u8AAD\\u307F\\u8FBC\\u307F\\u4E2D...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"timetable\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"timetable-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"time-column-header\",\n              children: \"\\u6642\\u523B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bench-column-header\",\n              children: \"\\u624B\\u524D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bench-column-header\",\n              children: \"\\u5965\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"timetable-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"time-column\",\n              children: timeSlots.map((time, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"time-slot\",\n                children: time\n              }, time, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bench-column\",\n              \"data-bench\": \"front\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bench-timeline\",\n                children: reservations.filter(r => r.bench_id === 'front').map((reservation, index) => {\n                  const {\n                    top,\n                    height\n                  } = calculateBarProperties(reservation);\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"reservation-bar\",\n                    style: {\n                      top: `${top}px`,\n                      height: `${height}px`,\n                      backgroundColor: getReservationColor(index),\n                      left: '2px',\n                      right: '2px'\n                    },\n                    onClick: () => startEdit(reservation),\n                    title: `ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç·¨é›†: ${reservation.user_name} (${new Date(reservation.start_time).toTimeString().substring(0, 5)} - ${new Date(reservation.end_time).toTimeString().substring(0, 5)})`,\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"reservation-content\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"reservation-user\",\n                        children: reservation.user_name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 546,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"reservation-time\",\n                        children: [new Date(reservation.start_time).toTimeString().substring(0, 5), \" - \", new Date(reservation.end_time).toTimeString().substring(0, 5)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 547,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 545,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"edit-indicator\",\n                      children: \"\\u7DE8\\u96C6\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 551,\n                      columnNumber: 27\n                    }, this)]\n                  }, reservation.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 532,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bench-column\",\n              \"data-bench\": \"back\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bench-timeline\",\n                children: reservations.filter(r => r.bench_id === 'back').map((reservation, index) => {\n                  const {\n                    top,\n                    height\n                  } = calculateBarProperties(reservation);\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"reservation-bar\",\n                    style: {\n                      top: `${top}px`,\n                      height: `${height}px`,\n                      backgroundColor: getReservationColor(index + 6),\n                      left: '2px',\n                      right: '2px'\n                    },\n                    onClick: () => startEdit(reservation),\n                    title: `ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç·¨é›†: ${reservation.user_name} (${new Date(reservation.start_time).toTimeString().substring(0, 5)} - ${new Date(reservation.end_time).toTimeString().substring(0, 5)})`,\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"reservation-content\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"reservation-user\",\n                        children: reservation.user_name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 582,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"reservation-time\",\n                        children: [new Date(reservation.start_time).toTimeString().substring(0, 5), \" - \", new Date(reservation.end_time).toTimeString().substring(0, 5)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 583,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 581,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"edit-indicator\",\n                      children: \"\\u7DE8\\u96C6\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 587,\n                      columnNumber: 27\n                    }, this)]\n                  }, reservation.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 568,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 562,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 561,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 280,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"cy+ZBeab3dhoO6p3d7I5CrOxLL8=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","API","App","_s","reservations","setReservations","selectedDate","setSelectedDate","Date","toISOString","split","showCreateForm","setShowCreateForm","editingReservation","setEditingReservation","loading","setLoading","error","setError","formData","setFormData","bench_id","user_name","start_time","end_time","loadReservations","retryCount","maxRetries","console","log","requestConfig","params","date","timeout","validateStatus","status","headers","response","get","Array","isArray","data","Error","validReservations","filter","reservation","id","length","warn","err","isRetryableError","code","shouldRetry","delay","Math","min","setTimeout","errorMessage","_err$response$data","detail","message","createReservation","e","preventDefault","reservationData","post","_err$response","_err$response$data2","updateReservation","updateData","put","_err$response2","_err$response2$data","startEdit","startTime","toTimeString","substring","endTime","changeDate","days","newDate","setDate","getDate","formatDate","dateString","toLocaleDateString","year","month","day","weekday","generateTimeSlots","slots","hour","minute","timeString","toString","padStart","push","calculateBarProperties","startDate","endDate","startMinutes","getHours","getMinutes","endMinutes","durationMinutes","baseOffsetMinutes","adjustedStartMinutes","pixelsPerMinute","top","height","getReservationColor","index","colors","cleanupOldData","deleted_count","alert","_err$response3","_err$response3$data","timeSlots","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","title","window","confirm","onSubmit","value","onChange","target","type","required","placeholder","max","step","style","color","fontSize","handleDelete","userConfirmed","delete","_error$response","_error$response$data","map","time","r","backgroundColor","left","right","_c","$RefreshReg$"],"sources":["/app/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst API = `${BACKEND_URL}/api`;\n\nconst App = () => {\n  const [reservations, setReservations] = useState([]);\n  const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0]);\n  const [showCreateForm, setShowCreateForm] = useState(false);\n  const [editingReservation, setEditingReservation] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  // Form state\n  const [formData, setFormData] = useState({\n    bench_id: 'front',\n    user_name: '',\n    start_time: '',\n    end_time: ''\n  });\n\n  // Load reservations for selected date with comprehensive error handling\n  const loadReservations = async (retryCount = 0, maxRetries = 3) => {\n    try {\n      console.log(`äºˆç´„èª­ã¿è¾¼ã¿é–‹å§‹ (è©¦è¡Œ ${retryCount + 1}/${maxRetries + 1}):`, selectedDate);\n      setLoading(true);\n      setError(''); // ã‚¨ãƒ©ãƒ¼ã‚’ã‚¯ãƒªã‚¢\n      \n      // ãƒªã‚¯ã‚¨ã‚¹ãƒˆè¨­å®šã®æœ€é©åŒ–\n      const requestConfig = {\n        params: { date: selectedDate },\n        timeout: 8000 + (retryCount * 2000), // æ®µéšçš„ã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’å»¶é•·\n        validateStatus: function (status) {\n          return status >= 200 && status < 300; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ\n        },\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      };\n      \n      const response = await axios.get(`${API}/reservations`, requestConfig);\n      \n      // ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿ã®æ¤œè¨¼\n      if (!Array.isArray(response.data)) {\n        throw new Error('ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ç„¡åŠ¹ãªãƒ‡ãƒ¼ã‚¿å½¢å¼ãŒè¿”ã•ã‚Œã¾ã—ãŸ');\n      }\n      \n      // ãƒ‡ãƒ¼ã‚¿ã®å¦¥å½“æ€§ãƒã‚§ãƒƒã‚¯\n      const validReservations = response.data.filter(reservation => {\n        return reservation && \n               reservation.id && \n               reservation.bench_id && \n               reservation.user_name && \n               reservation.start_time && \n               reservation.end_time;\n      });\n      \n      if (validReservations.length !== response.data.length) {\n        console.warn(`ç„¡åŠ¹ãªäºˆç´„ãƒ‡ãƒ¼ã‚¿ã‚’é™¤å¤–: ${response.data.length - validReservations.length}ä»¶`);\n      }\n      \n      console.log('äºˆç´„ãƒ‡ãƒ¼ã‚¿å–å¾—æˆåŠŸ:', validReservations);\n      setReservations(validReservations);\n      \n    } catch (err) {\n      console.error(`äºˆç´„èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼ (è©¦è¡Œ ${retryCount + 1}):`, err);\n      \n      // ã‚¨ãƒ©ãƒ¼åˆ†é¡ã¨è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤åˆ¤å®š\n      const isRetryableError = (\n        err.code === 'ECONNABORTED' || // ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ\n        err.code === 'NETWORK_ERROR' || // ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼\n        err.code === 'ERR_NETWORK' ||   // ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ (axios)\n        (err.response && err.response.status >= 500) || // ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼\n        (err.response && err.response.status === 503) || // ã‚µãƒ¼ãƒ“ã‚¹åˆ©ç”¨ä¸å¯\n        (err.response && err.response.status === 504)    // ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ\n      );\n      \n      const shouldRetry = retryCount < maxRetries && isRetryableError;\n      \n      if (shouldRetry) {\n        const delay = Math.min(1000 * (2 ** retryCount), 8000); // æœ€å¤§8ç§’\n        console.log(`${delay/1000}ç§’å¾Œã«è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤ã—ã¾ã™...`);\n        setError(`æ¥ç¶šä¸­ã§ã™... (${retryCount + 1}å›ç›®å†è©¦è¡Œä¸­)`);\n        \n        setTimeout(() => {\n          loadReservations(retryCount + 1, maxRetries);\n        }, delay);\n        \n      } else {\n        // æœ€å¤§ãƒªãƒˆãƒ©ã‚¤å›æ•°ã«é”ã—ãŸå ´åˆã¾ãŸã¯ãƒªãƒˆãƒ©ã‚¤ä¸å¯ã‚¨ãƒ©ãƒ¼\n        let errorMessage = 'äºˆç´„ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ';\n        \n        if (err.response) {\n          // ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒã‚ã‚‹å ´åˆ\n          errorMessage = err.response.data?.detail || \n                        `ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ (${err.response.status})`;\n        } else if (err.code === 'ECONNABORTED' || err.code === 'ERR_NETWORK') {\n          errorMessage = 'ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã«å•é¡ŒãŒã‚ã‚Šã¾ã™';\n        } else if (err.message) {\n          errorMessage = err.message;\n        }\n        \n        setError(errorMessage);\n        console.error('æœ€å¤§ãƒªãƒˆãƒ©ã‚¤å›æ•°ã«é”ã—ã¾ã—ãŸ:', err);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadReservations();\n  }, [selectedDate]);\n\n  // Create reservation\n  const createReservation = async (e) => {\n    e.preventDefault();\n    try {\n      setLoading(true);\n      setError('');\n      \n      const reservationData = {\n        ...formData,\n        start_time: `${selectedDate}T${formData.start_time}:00`,\n        end_time: `${selectedDate}T${formData.end_time}:00`\n      };\n      \n      await axios.post(`${API}/reservations`, reservationData);\n      \n      // Reset form and refresh\n      setFormData({ bench_id: 'front', user_name: '', start_time: '', end_time: '' });\n      setShowCreateForm(false);\n      await loadReservations();\n    } catch (err) {\n      setError(err.response?.data?.detail || 'äºˆç´„ã®ä½œæˆã«å¤±æ•—ã—ã¾ã—ãŸ');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Update reservation\n  const updateReservation = async (e) => {\n    e.preventDefault();\n    try {\n      setLoading(true);\n      setError('');\n      \n      const updateData = {\n        user_name: formData.user_name,\n        start_time: `${selectedDate}T${formData.start_time}:00`,\n        end_time: `${selectedDate}T${formData.end_time}:00`\n      };\n      \n      await axios.put(`${API}/reservations/${editingReservation.id}`, updateData);\n      \n      // Reset form and refresh\n      setFormData({ bench_id: 'front', user_name: '', start_time: '', end_time: '' });\n      setEditingReservation(null);\n      await loadReservations();\n    } catch (err) {\n      setError(err.response?.data?.detail || 'äºˆç´„ã®æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸ');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Start editing\n  const startEdit = (reservation) => {\n    const startTime = new Date(reservation.start_time).toTimeString().substring(0, 5);\n    const endTime = new Date(reservation.end_time).toTimeString().substring(0, 5);\n    \n    setFormData({\n      bench_id: reservation.bench_id,\n      user_name: reservation.user_name,\n      start_time: startTime,\n      end_time: endTime\n    });\n    setEditingReservation(reservation);\n    setShowCreateForm(false);\n  };\n\n  // Date navigation\n  const changeDate = (days) => {\n    const newDate = new Date(selectedDate);\n    newDate.setDate(newDate.getDate() + days);\n    setSelectedDate(newDate.toISOString().split('T')[0]);\n  };\n\n  // Format date for display\n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('ja-JP', { \n      year: 'numeric', \n      month: 'long', \n      day: 'numeric',\n      weekday: 'long'\n    });\n  };\n\n  // Generate time slots for timetable (every 30 minutes, 7:00-22:00)\n  const generateTimeSlots = () => {\n    const slots = [];\n    for (let hour = 7; hour <= 22; hour++) {\n      for (let minute = 0; minute < 60; minute += 30) {\n        const timeString = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;\n        slots.push(timeString);\n      }\n    }\n    return slots;\n  };\n\n  // Calculate reservation bar properties\n  const calculateBarProperties = (reservation) => {\n    const startDate = new Date(reservation.start_time);\n    const endDate = new Date(reservation.end_time);\n    \n    const startMinutes = startDate.getHours() * 60 + startDate.getMinutes();\n    const endMinutes = endDate.getHours() * 60 + endDate.getMinutes();\n    const durationMinutes = endMinutes - startMinutes;\n    \n    // 7:00 (420åˆ†) ã‚’åŸºæº–ç‚¹ã¨ã—ã¦èª¿æ•´\n    const baseOffsetMinutes = 7 * 60; // 7:00 = 420åˆ†\n    const adjustedStartMinutes = startMinutes - baseOffsetMinutes;\n    \n    // Each 30-minute slot is 40px high\n    const pixelsPerMinute = 40 / 30;\n    const top = adjustedStartMinutes * pixelsPerMinute;\n    const height = durationMinutes * pixelsPerMinute;\n    \n    return { top, height };\n  };\n\n  // Get reservation color\n  const getReservationColor = (index) => {\n    const colors = [\n      '#667eea', '#764ba2', '#f093fb', '#f5576c',\n      '#4facfe', '#00f2fe', '#43e97b', '#38f9d7',\n      '#ffecd2', '#fcb69f', '#a8edea', '#fed6e3'\n    ];\n    return colors[index % colors.length];\n  };\n\n  // Auto cleanup old data function\n  const cleanupOldData = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      \n      const response = await axios.post(`${API}/cleanup/old-data`, {}, {\n        timeout: 15000 // 15ç§’ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ\n      });\n      \n      console.log('ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—å®Œäº†:', response.data);\n      \n      // æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º\n      if (response.data.deleted_count > 0) {\n        alert(`âœ… ${response.data.deleted_count}ä»¶ã®å¤ã„äºˆç´„ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã—ã¾ã—ãŸ`);\n      } else {\n        alert('â„¹ï¸ å‰Šé™¤å¯¾è±¡ã®ãƒ‡ãƒ¼ã‚¿ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸ');\n      }\n      \n      // äºˆç´„ãƒªã‚¹ãƒˆã‚’æ›´æ–°\n      await loadReservations();\n      \n    } catch (err) {\n      console.error('ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã‚¨ãƒ©ãƒ¼:', err);\n      const errorMessage = err.response?.data?.detail || 'ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã«å¤±æ•—ã—ã¾ã—ãŸ';\n      setError(`ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã‚¨ãƒ©ãƒ¼: ${errorMessage}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const timeSlots = generateTimeSlots();\n\n  return (\n    <div className=\"app\">\n      <div className=\"container\">\n        <header className=\"header\">\n          <h1>ã‚¯ãƒªãƒ¼ãƒ³ãƒ™ãƒ³ãƒäºˆç´„ã‚·ã‚¹ãƒ†ãƒ </h1>\n          <p className=\"version-info\">ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 2.0 - æ”¹å–„ç‰ˆ</p>\n        </header>\n\n        {/* Date Navigation */}\n        <div className=\"date-navigation\">\n          <button onClick={() => changeDate(-1)} className=\"nav-button\">\n            â† å‰æ—¥\n          </button>\n          <div className=\"current-date\">\n            {formatDate(selectedDate)}\n          </div>\n          <button onClick={() => changeDate(1)} className=\"nav-button\">\n            ç¿Œæ—¥ â†’\n          </button>\n        </div>\n\n        {/* Create Reservation Button & Manual Refresh & Cleanup */}\n        <div className=\"action-buttons\">\n          <button \n            onClick={() => {\n              setShowCreateForm(true);\n              setEditingReservation(null);\n              setFormData({ bench_id: 'front', user_name: '', start_time: '', end_time: '' });\n            }}\n            className=\"create-button\"\n          >\n            æ–°è¦äºˆç´„\n          </button>\n          \n          <button \n            onClick={() => {\n              console.log('æ‰‹å‹•æ›´æ–°ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸ');\n              loadReservations(0, 3); // æ‰‹å‹•æ›´æ–°æ™‚ã‚‚è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½ã‚’ä½¿ç”¨\n            }}\n            className=\"refresh-button\"\n            disabled={loading}\n            title=\"äºˆç´„ä¸€è¦§ã‚’æ‰‹å‹•ã§æ›´æ–°\"\n          >\n            {loading ? 'ğŸ”„ æ›´æ–°ä¸­...' : 'ğŸ”„ æ›´æ–°'}\n          </button>\n          \n          <button \n            onClick={() => {\n              if (window.confirm('30æ—¥ã‚ˆã‚Šå¤ã„äºˆç´„ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã—ã¾ã™ã€‚\\nã“ã®æ“ä½œã¯å–ã‚Šæ¶ˆã›ã¾ã›ã‚“ã€‚\\nå®Ÿè¡Œã—ã¾ã™ã‹ï¼Ÿ')) {\n                cleanupOldData();\n              }\n            }}\n            className=\"cleanup-button\"\n            disabled={loading}\n            title=\"30æ—¥ã‚ˆã‚Šå¤ã„äºˆç´„ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã—ã¦ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å®¹é‡ã‚’ç¯€ç´„\"\n          >\n            {loading ? 'ğŸ§¹ å‰Šé™¤ä¸­...' : 'ğŸ§¹ å¤ã„ãƒ‡ãƒ¼ã‚¿å‰Šé™¤'}\n          </button>\n        </div>\n\n        {/* Error Message with Retry Option */}\n        {error && (\n          <div className=\"error-container\">\n            <div className=\"error-message\">\n              âš ï¸ {error}\n            </div>\n            <button \n              onClick={() => {\n                setError('');\n                loadReservations(0, 3);\n              }}\n              className=\"retry-button\"\n              disabled={loading}\n            >\n              {loading ? 'å†è©¦è¡Œä¸­...' : 'ğŸ”„ å†è©¦è¡Œ'}\n            </button>\n          </div>\n        )}\n\n        {/* Create/Edit Form */}\n          {(showCreateForm || editingReservation) && (\n          <div className=\"form-container\">\n            <h3>{editingReservation ? 'äºˆç´„ç·¨é›†' : 'æ–°è¦äºˆç´„'}</h3>\n            <form onSubmit={editingReservation ? updateReservation : createReservation}>\n              <div className=\"form-group\">\n                <label>ãƒ™ãƒ³ãƒ:</label>\n                <select \n                  value={formData.bench_id} \n                  onChange={(e) => setFormData({...formData, bench_id: e.target.value})}\n                  disabled={!!editingReservation}\n                >\n                  <option value=\"front\">æ‰‹å‰</option>\n                  <option value=\"back\">å¥¥</option>\n                </select>\n              </div>\n\n              <div className=\"form-group\">\n                <label>åˆ©ç”¨è€…å:</label>\n                <input\n                  type=\"text\"\n                  value={formData.user_name}\n                  onChange={(e) => setFormData({...formData, user_name: e.target.value})}\n                  required\n                  placeholder=\"ãŠåå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„\"\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label>é–‹å§‹æ™‚åˆ»:</label>\n                <input\n                  type=\"time\"\n                  value={formData.start_time}\n                  onChange={(e) => setFormData({...formData, start_time: e.target.value})}\n                  min=\"07:00\"\n                  max=\"22:00\"\n                  step=\"1800\"\n                  required\n                />\n                <small style={{color: '#666', fontSize: '0.8rem'}}>\n                  åˆ©ç”¨å¯èƒ½æ™‚é–“: 7:00-22:00 (30åˆ†åˆ»ã¿)\n                </small>\n              </div>\n\n              <div className=\"form-group\">\n                <label>çµ‚äº†æ™‚åˆ»:</label>\n                <input\n                  type=\"time\"\n                  value={formData.end_time}\n                  onChange={(e) => setFormData({...formData, end_time: e.target.value})}\n                  min=\"07:00\"\n                  max=\"22:00\"\n                  step=\"1800\"\n                  required\n                />\n                <small style={{color: '#666', fontSize: '0.8rem'}}>\n                  åˆ©ç”¨å¯èƒ½æ™‚é–“: 7:00-22:00 (30åˆ†åˆ»ã¿)\n                </small>\n              </div>\n\n              <div className=\"form-buttons\">\n                <button type=\"submit\" disabled={loading}>\n                  {editingReservation ? 'æ›´æ–°' : 'äºˆç´„ä½œæˆ'}\n                </button>\n                \n                {editingReservation && (\n                  <button \n                    type=\"button\" \n                    className=\"delete-form-button\"\n                    disabled={loading}\n                    onClick={() => {\n                      console.log('å‰Šé™¤ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸ');\n                      console.log('ç·¨é›†ä¸­ã®äºˆç´„:', editingReservation);\n                      \n                      const handleDelete = async () => {\n                        try {\n                          // è©³ç´°ãªç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°\n                          const userConfirmed = window.confirm(\n                            `âš ï¸ äºˆç´„ã‚’å‰Šé™¤ã—ã¦ã‚‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ\\n\\n` +\n                            `ğŸ“ åˆ©ç”¨è€…: ${editingReservation.user_name}\\n` +\n                            `â° æ™‚é–“: ${new Date(editingReservation.start_time).toTimeString().substring(0,5)} - ${new Date(editingReservation.end_time).toTimeString().substring(0,5)}\\n` +\n                            `ğŸ¢ ãƒ™ãƒ³ãƒ: ${editingReservation.bench_id === 'front' ? 'æ‰‹å‰' : 'å¥¥'}\\n\\n` +\n                            `âŒ ã“ã®æ“ä½œã¯å–ã‚Šæ¶ˆã›ã¾ã›ã‚“ã€‚\\n\\n` +\n                            `å‰Šé™¤ã™ã‚‹å ´åˆã¯ã€ŒOKã€ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚`\n                          );\n                          \n                          if (!userConfirmed) {\n                            console.log('ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå‰Šé™¤ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ã¾ã—ãŸ');\n                            return;\n                          }\n                          \n                          console.log('å‰Šé™¤å‡¦ç†ã‚’é–‹å§‹ã—ã¾ã™...');\n                          console.log('å‰Šé™¤å¯¾è±¡ID:', editingReservation.id);\n                          \n                          setLoading(true);\n                          setError('');\n                          \n                          // DELETE ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡\n                          const response = await axios.delete(`${API}/reservations/${editingReservation.id}`);\n                          console.log('âœ… å‰Šé™¤æˆåŠŸ:', response.data);\n                          \n                          // çŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆ\n                          setEditingReservation(null);\n                          setFormData({ bench_id: 'front', user_name: '', start_time: '', end_time: '' });\n                          \n                          // äºˆç´„ãƒªã‚¹ãƒˆã‚’å†èª­ã¿è¾¼ã¿\n                          await loadReservations();\n                          console.log('âœ… å‰Šé™¤å‡¦ç†ãŒå®Œäº†ã—ã¾ã—ãŸ');\n                          \n                        } catch (error) {\n                          console.error('âŒ å‰Šé™¤ã‚¨ãƒ©ãƒ¼:', error);\n                          if (error.response) {\n                            console.error('ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¨ãƒ©ãƒ¼:', error.response.data);\n                            console.error('ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰:', error.response.status);\n                          }\n                          setError(`å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸ: ${error.response?.data?.detail || error.message}`);\n                        } finally {\n                          setLoading(false);\n                        }\n                      };\n                      \n                      handleDelete();\n                    }}\n                  >\n                    {loading ? 'å‰Šé™¤ä¸­...' : 'ğŸ—‘ï¸ äºˆç´„å‰Šé™¤'}\n                  </button>\n                )}\n                \n                <button \n                  type=\"button\" \n                  onClick={() => {\n                    setShowCreateForm(false);\n                    setEditingReservation(null);\n                    setError('');\n                  }}\n                >\n                  ã‚­ãƒ£ãƒ³ã‚»ãƒ«\n                </button>\n              </div>\n            </form>\n          </div>\n        )}\n\n        {/* Timetable View */}\n        <div className=\"timetable-container\">\n          {loading && <div className=\"loading\">èª­ã¿è¾¼ã¿ä¸­...</div>}\n          \n          <div className=\"timetable\">\n            {/* Header */}\n            <div className=\"timetable-header\">\n              <div className=\"time-column-header\">æ™‚åˆ»</div>\n              <div className=\"bench-column-header\">æ‰‹å‰</div>\n              <div className=\"bench-column-header\">å¥¥</div>\n            </div>\n\n            {/* Time grid */}\n            <div className=\"timetable-grid\">\n              {/* Time column */}\n              <div className=\"time-column\">\n                {timeSlots.map((time, index) => (\n                  <div key={time} className=\"time-slot\">\n                    {time}\n                  </div>\n                ))}\n              </div>\n\n              {/* Front bench column */}\n              <div className=\"bench-column\" data-bench=\"front\">\n                <div className=\"bench-timeline\">\n                  {reservations\n                    .filter(r => r.bench_id === 'front')\n                    .map((reservation, index) => {\n                      const { top, height } = calculateBarProperties(reservation);\n                      return (\n                        <div\n                          key={reservation.id}\n                          className=\"reservation-bar\"\n                          style={{\n                            top: `${top}px`,\n                            height: `${height}px`,\n                            backgroundColor: getReservationColor(index),\n                            left: '2px',\n                            right: '2px'\n                          }}\n                          onClick={() => startEdit(reservation)}\n                          title={`ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç·¨é›†: ${reservation.user_name} (${new Date(reservation.start_time).toTimeString().substring(0,5)} - ${new Date(reservation.end_time).toTimeString().substring(0,5)})`}\n                        >\n                          <div className=\"reservation-content\">\n                            <div className=\"reservation-user\">{reservation.user_name}</div>\n                            <div className=\"reservation-time\">\n                              {new Date(reservation.start_time).toTimeString().substring(0,5)} - {new Date(reservation.end_time).toTimeString().substring(0,5)}\n                            </div>\n                          </div>\n                          <div className=\"edit-indicator\">\n                            ç·¨é›†\n                          </div>\n                        </div>\n                      );\n                    })}\n                </div>\n              </div>\n\n              {/* Back bench column */}\n              <div className=\"bench-column\" data-bench=\"back\">\n                <div className=\"bench-timeline\">\n                  {reservations\n                    .filter(r => r.bench_id === 'back')\n                    .map((reservation, index) => {\n                      const { top, height } = calculateBarProperties(reservation);\n                      return (\n                        <div\n                          key={reservation.id}\n                          className=\"reservation-bar\"\n                          style={{\n                            top: `${top}px`,\n                            height: `${height}px`,\n                            backgroundColor: getReservationColor(index + 6),\n                            left: '2px',\n                            right: '2px'\n                          }}\n                          onClick={() => startEdit(reservation)}\n                          title={`ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç·¨é›†: ${reservation.user_name} (${new Date(reservation.start_time).toTimeString().substring(0,5)} - ${new Date(reservation.end_time).toTimeString().substring(0,5)})`}\n                        >\n                          <div className=\"reservation-content\">\n                            <div className=\"reservation-user\">{reservation.user_name}</div>\n                            <div className=\"reservation-time\">\n                              {new Date(reservation.start_time).toTimeString().substring(0,5)} - {new Date(reservation.end_time).toTimeString().substring(0,5)}\n                            </div>\n                          </div>\n                          <div className=\"edit-indicator\">\n                            ç·¨é›†\n                          </div>\n                        </div>\n                      );\n                    })}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}